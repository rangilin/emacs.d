<div class="alert alert-info">
<p><strong>Update!</strong> <small>June 16, 2014</small></p>
<p>Nic Ferrier’s <a href="https://github.com/nicferrier/elmarmalade">reimplementation of Maramalade</a> went live some time ago, and I’d like to use that occasion to retract my angry and stupid words below.</p>
<p>While I do not think that the approach is right, and am not convinced that Marmalade heads towards a better future, I think that in and by itself Nic Ferrier did a great work, and delivered a great piece of software that is probably pushing the boundaries of what can be done with Emacs farther than anything before it. For the sake of the Emacs community, I truly hope that the new Marmalade becomes a real success.</p>
<p>I’d like to apologize for what I have said below, and send my best wishes to Nic. I am truly grateful for what he did.</p>
</div>
<div class="alert alert-info">
<p><strong>Update!</strong> <small>April 28, 2014</small></p>
<p><a href="https://github.com/lunaryorn/marmalade-upload/releases">Binaries for Linux and OS X</a> are available now. The installation instructions below were updated accordingly.</p>
</div>
<div class="alert alert-info">
<p><strong>Update!</strong> <small>April 1, 2014</small></p>
<p>It’s on <a href="http://hackage.haskell.org/package/marmalade-upload">Hackage</a> now. The installation instructions below were updated accordingly.</p>
</div>
<div class="panel panel-default text-center">
<div class="panel-body">
<img src="/images/marmalade-crash.png" class="img-responsive img-thumbnail">
</div>
<div class="panel-footer">
The dreaded Marmalade Screen of Death
</div>
</div>
<p>Looks familiar? Then you’re probably a fellow Emacs developer trying to upload a package to the <a href="http://marmalade-repo.org/">Marmalade</a> ELPA archive.</p>
<p>We’ve been getting this fancy error for some time now, and there’s already a nice <a href="https://github.com/nicferrier/marmalade/issues/73">issue</a> for it, but little progress. Just like, er, well… in the entire Marmalade itself. Sure, there is Nic Ferrier’s brand-new Emacs Lisp Marmalade rewrite super-thing, but… ok, even Duke Nukem made it to a release eventually, so we have some hope left, haven’t we?</p>
<p>And while we’re excitedly waiting for Marmalade being reborn like a phoenix from the ashes, I’d like to share <a href="https://github.com/lunaryorn/marmalade-upload">marmalade-upload</a> with you. It’s a little Haskell tool to upload packages to Marmalade via its API, which isn’t broken yet fortunately (don’t hold your breath, folks).</p>
<p>To get started, download the appropriate binary for your system from the <a href="https://github.com/lunaryorn/marmalade-upload/releases">Release page</a>, unzip the archive and move the contained <code>marmalade-upload</code> executable into a directory in your <code>$PATH</code>, e.g. <code>/usr/local/bin/</code>.</p>
<p>If there are no binaries for your system, install <a href="http://www.haskell.org/platform/">Haskell Platform</a> and use the following command to build and install <code>marmalade-upload</code> from source:</p>
<div class="highlight"><pre><span class="gp">$</span> cabal install marmalade-upload
</pre></div>

<p>It will take a while to fetch and build all the dependencies of <code>marmalade-upload</code>. The resulting binary ends up in <code>~/.cabal/bin</code>, so add this directory to your <code>$PATH</code>.</p>
<p>Once installed, you can upload your new packages with <code>marmalade-upload USERNAME PACKAGE-FILE</code>, e.g.:</p>
<div class="highlight"><pre><span class="gp">$</span> marmalade-upload lunaryorn dist/flycheck-0.18.tar
</pre></div>

<p>The tool will ask for your Marmalade password, and upload the package. For extra safety, it checks the mimetype of the file first, and throws an error if it’s invalid. If you’re on OS X or KDE, the tool will put your Marmalade login token (not your Marmalade password!) into the keychain, so you won’t be prompted for your password next time.</p>
<p>And, yes, sorry for the inconvenient language, but it’s a boring tool for a stupid bug, so I at least try to learn a bit from it by refreshing what little of my Haskell skills is still there.</p>
<p>In a related development, <a href="http://melpa.milkbox.net/">MELPA</a> recently <a href="http://www.reddit.com/r/emacs/comments/216jhc/stable_packages_from_melpa/">announced</a> that they are building <a href="https://github.com/milkypostman/melpa#stable-packages">stable packages</a> now from DVCS (currently Git only) tags, which is a <em>big</em> step closer to Marmalade’s final passing. So long, dear Marmalade, we had hard time with you, and we’re glad that’s over soon.</p>