<p><em>EDIT 07/01/2014</em>: I don't recommend setting up packages like this anymore. I recommend reading
<a class="reference external" href="http://toumorokoshi.github.io/emacs-from-scratch-part-2-package-management.html">this post instead</a></p>
<p>About a year ago I wrote about <a class="reference external" href="http://toumorokoshi.github.io/automatic-package-installation-using-elpa-in-emacs-24.html">installing packages on startup, automatically for Emacs 24</a>. This used the native ELPA, looked for packages that weren't already installed, and used package-install to install them.</p>
<p>Unfortunately, I realized that this method wasn't nearly as functional as I wanted it to be. I'll save my opinions for later. If you're just looking for a great way to install packages for Emacs, I'll just write it out here.</p>
<div class="section" id="what-i-do">
<h2>What I do</h2>
<p>Here's a baseline example of how to manage your packages:</p>
<div class="highlight"><pre>    <span class="c1">;; Check for el-get, install if not exists</span>
    <span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/.emacs.d/el-get/el-get&quot;</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">unless</span> <span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;el-get</span> <span class="nv">nil</span> <span class="nv">t</span><span class="p">)</span>
<span class="p">(</span><span class="nf">url-retrieve</span>
 <span class="s">&quot;https://raw.github.com/dimitri/el-get/master/el-get-install.el&quot;</span>
 <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">s</span><span class="p">)</span>
   <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">point-max</span><span class="p">))</span>
   <span class="p">(</span><span class="nf">eval-print-last-sexp</span><span class="p">))))</span>

    <span class="c1">;; Set up packages</span>
    <span class="p">(</span><span class="nf">setq</span> <span class="nv">el-get-sources</span>
<span class="o">&#39;</span><span class="p">((</span><span class="nf">:name</span> <span class="nv">flymake</span>
   <span class="nv">:description</span> <span class="s">&quot;Continuous syntax checking for Emacs.&quot;</span>
   <span class="nv">:type</span> <span class="nv">github</span>
   <span class="nv">:pkgname</span> <span class="s">&quot;illusori/emacs-flymake&quot;</span><span class="p">)</span>

  <span class="p">(</span><span class="nf">:name</span> <span class="nv">multiple-cursors</span>
   <span class="nv">:description</span> <span class="s">&quot;An experiment in adding multiple cursors to emacs&quot;</span>
   <span class="nv">:type</span> <span class="nv">github</span>
   <span class="nv">:pkgname</span> <span class="s">&quot;magnars/multiple-cursors.el&quot;</span>
   <span class="nv">:features</span> <span class="nv">multiple-cursors</span><span class="p">)</span>

  <span class="p">(</span><span class="nf">:name</span> <span class="nv">scala-mode</span>
   <span class="nv">:description</span> <span class="s">&quot;Major mode for editing Scala code.&quot;</span>
   <span class="nv">:type</span> <span class="nv">git</span>
   <span class="nv">:url</span> <span class="s">&quot;https://github.com/scala/scala-dist.git&quot;</span>
   <span class="nv">:build</span> <span class="o">`</span><span class="p">((</span><span class="s">&quot;make -C tool-support/src/emacs&quot;</span> <span class="o">,</span><span class="p">(</span><span class="nf">concat</span> <span class="s">&quot;ELISP_COMMAND=&quot;</span> <span class="nv">el-get-emacs</span><span class="p">)))</span>
   <span class="nv">:load-path</span> <span class="p">(</span><span class="s">&quot;tool-support/src/emacs&quot;</span><span class="p">)</span>
   <span class="nv">:features</span> <span class="nv">scala-mode-auto</span><span class="p">)</span>

    <span class="p">(</span><span class="nf">:name</span> <span class="nv">rainbow-mode</span> <span class="nv">:type</span> <span class="nv">elpa</span><span class="p">)</span>

  <span class="p">(</span><span class="nf">:name</span> <span class="nv">js2-mode</span>
   <span class="nv">:website</span> <span class="s">&quot;https://github.com/mooz/js2-mode#readme&quot;</span>
   <span class="nv">:description</span> <span class="s">&quot;An improved JavaScript editing mode&quot;</span>
   <span class="nv">:type</span> <span class="nv">github</span>
   <span class="nv">:pkgname</span> <span class="s">&quot;mooz/js2-mode&quot;</span>
   <span class="nv">:prepare</span> <span class="p">(</span><span class="nf">autoload</span> <span class="ss">&#39;js2-mode</span> <span class="s">&quot;js2-mode&quot;</span> <span class="nv">nil</span> <span class="nv">t</span><span class="p">))))</span>

    <span class="c1">;; install any packages not installed yet</span>
    <span class="p">(</span><span class="nf">mapc</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">f</span><span class="p">)</span>
      <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">name</span> <span class="p">(</span><span class="nf">plist-get</span> <span class="nv">f</span> <span class="nv">:name</span><span class="p">)))</span>
           <span class="p">(</span><span class="nf">when</span> <span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">require</span> <span class="nv">name</span> <span class="nv">nil</span> <span class="nv">t</span><span class="p">))</span> <span class="p">(</span><span class="nf">el-get-install</span> <span class="nv">name</span><span class="p">))))</span>
    <span class="nv">el-get-sources</span><span class="p">)</span>
</pre></div>
<p>What does this do? Well:</p>
<ul class="simple">
<li>Checks for installation of el-get, my package manager of choice, and installs it if one doesn't exist</li>
<li>Sets a list of package definitions into el-get-sources</li>
<li>Looks through the whole list of el-get-sources, ad runs el-get-install if the package isn't installed (verified via the 'require' command)</li>
</ul>
<p>If I find a new package I want, whether it's on github, elpa, or
otherwise, I first check if the package info already exists in
<a class="reference external" href="https://github.com/dimitri/el-get/tree/master/recipes">el-get's huge list of recipes</a>, or I write
it up myself. As an example, install an elpa package is as simple as:</p>
<div class="highlight"><pre><span class="p">(</span><span class="nf">:name</span> <span class="nv">rainbow-mode</span> <span class="nv">:type</span> <span class="nv">elpa</span><span class="p">)</span>
</pre></div>
<p>How about a git repository? In that case it's just:</p>
<div class="highlight"><pre><span class="p">(</span><span class="nf">:name</span> <span class="nv">scala-mode</span> <span class="nv">:type</span> <span class="nv">git</span> <span class="nv">:url</span> <span class="s">&quot;http://github.com/scala/scala-dist.git&quot;</span><span class="p">)</span>
</pre></div>
<p>Or a shortened github version:</p>
<div class="highlight"><pre><span class="p">(</span><span class="nf">:name</span> <span class="nv">scala-mode</span> <span class="nv">:type</span> <span class="nv">github</span> <span class="nv">:pkgname</span> <span class="s">&quot;scala/scala-dist.git&quot;</span><span class="p">)</span>
</pre></div>
<p>Also in my system, I put my el-get-sources list into a different file and load it, it makes it way easier to manager than a huge chunk of data halfway through a bunch of code:</p>
<div class="highlight"><pre><span class="c1">;; e.g. put the &quot;el-get-sources&quot; list in .emacs.elgetpackages</span>
<span class="p">(</span><span class="nb">load </span><span class="s">&quot;~/.emacs.d/.emacs.elgetpackages&quot;</span><span class="p">)</span>
</pre></div>
<p>Try it out for yourself! Watch as all of your favorite packages get installed on startup. Note that the install order might be different, as the cloning and installing process is performed asynchronously.</p>
</div>
<div class="section" id="why-i-do-it-this-way">
<h2>Why I do it this way</h2>
<p>So why do I el-get now instead of package.el and ELPA?</p>
<p>When I started using ELPA. I was really satisfied. It was so easy to find and discover new packages, and installing them was a snap! However, with the rate at which emacs plugin development occurs, the packages are outdated quickly. In the world of github, and an incredibly active community, I found that my main issue was being able to install the most recent version of packages out there, and keeping them up to date.</p>
<p>ELPA is only as up to date as the package developers make it, and depending on the library, that's not a lot. In addition, there are quite a lot of libraries out there which haven't made it yet into a package.el repository.</p>
<p>So why wait? When adding a new package to your distributable emacs configuration is one line away, you don't have to.</p>
<p>el-get provides basically everything I'm looking for:</p>
<ul class="simple">
<li>a specific 'github' type for github repos. An absolute necessity, a lot of really good emacs extensions are on github.</li>
<li>generic git cloning. Great for the other libraries stores elsewhere</li>
<li>it even hooks into elpa for other packages!</li>
</ul>
<p>Although I rarely use package.el or ELPA anymore. If I can find the github equivalent, I'll use that instead. You'd be surprised how outdated existing libraries become.</p>
<p>This also provides the flexibility of allowing me to use my own version of various libraries, if need be. I no longer have to wait for pull requests to enjoy my fixes: I can just use my own repository, and switch back when the main repository catches up.</p>
<p>So if you want to stay on the cutting-edge, and not worry about the hassle of installing every single package you use on every machine you have, give this a shot.</p>
</div>
