
     <div class="paragraph">
<p>You may have already noticed the blog is active again because of me accidentally leaving the <a href="http://www.swaroopch.com/2014/04/07/welcome-to-jekyll/">"Welcome to Jekyll!"</a> entry on the website.</p>
</div>
<div class="paragraph">
<p>That entry was added when I created a new <a href="http://www.jekyllrb.com">Jekyll</a> repository and wrote a long Ruby script with lots of regexes and invocations of <code>curl</code> and <a href="http://nokogiri.org/">Nokogiri</a> to convert from the Wordpress-exported XML to the <a href="http://jekyllrb.com/docs/structure/">Jekyll structure</a>.</p>
</div>
<div class="paragraph">
<p>I&#8217;m happy to say that the website is now fully converted to Jekyll and it will help me avoid the whole problem of <a href="http://jetpack.me/2014/04/10/jetpack-security-update/">Wordpress security updates</a>.</p>
</div>
<div class="paragraph">
<p>So why did I want to migrate to Jekyll in the first place? Because ever since I have been <a href="http://www.swaroopch.com/2013/01/16/orgmode/">assimilated by Orgmode</a> and <a href="http://www.swaroopch.com/2013/10/17/emacs-configuration-tutorial/">immersed in Emacs</a>, I wanted to write in Emacs and no longer wanted to do the long "edit-publish-refresh" cycle of using the Wordpress admin, especially because I would write in Markdown or Org and then convert to HTML and upload the generated HTML to Wordpress. Every time I had to edit the post after publishing, I would have to then edit HTML.</p>
</div>
<div class="paragraph">
<p>So Jekyll seemed like the best option because it allows me to choose the format that I write in. So I wrote a small plugin to render <a href="http://asciidoctor.org/docs/what-is-asciidoc/">AsciiDoc</a>, my new syntax of choice which I used to <a href="http://www.swaroopch.com/2014/03/29/byte-of-python-asciidoc/">rewrite A Byte of Python</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code class="ruby language-ruby"><span class="tok-c1">#encoding: utf-8</span>
<span class="tok-c1"># http://jekyllrb.com/docs/plugins/#converters</span>
<span class="tok-k">module</span> <span class="tok-nn">Jekyll</span>

  <span class="tok-k">class</span> <span class="tok-nc">AsciidocConverter</span> <span class="tok-o">&lt;</span> <span class="tok-no">Converter</span>
    <span class="tok-n">safe</span> <span class="tok-kp">true</span>

    <span class="tok-k">def</span> <span class="tok-nf">setup</span>
      <span class="tok-c1"># http://asciidoctor.org/rdoc/Asciidoctor.html</span>
      <span class="tok-nb">require</span> <span class="tok-s1">&#39;asciidoctor&#39;</span>
    <span class="tok-k">rescue</span> <span class="tok-no">LoadError</span>
      <span class="tok-no">STDERR</span><span class="tok-o">.</span><span class="tok-n">puts</span> <span class="tok-s2">&quot;Cannot load asciidoctor gem&quot;</span>
      <span class="tok-k">raise</span> <span class="tok-no">FatalException</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-s2">&quot;Missing dependency: asciidoctor&quot;</span><span class="tok-p">)</span>
    <span class="tok-k">end</span>

    <span class="tok-k">def</span> <span class="tok-nf">matches</span><span class="tok-p">(</span><span class="tok-n">ext</span><span class="tok-p">)</span>
      <span class="tok-n">ext</span> <span class="tok-o">=~</span> <span class="tok-sr">/^\.asciidoc$/i</span>
    <span class="tok-k">end</span>

    <span class="tok-k">def</span> <span class="tok-nf">output_ext</span><span class="tok-p">(</span><span class="tok-n">ext</span><span class="tok-p">)</span>
      <span class="tok-s2">&quot;.html&quot;</span>
    <span class="tok-k">end</span>

    <span class="tok-k">def</span> <span class="tok-nf">convert</span><span class="tok-p">(</span><span class="tok-n">content</span><span class="tok-p">)</span>
      <span class="tok-n">setup</span>
      <span class="tok-no">Asciidoctor</span><span class="tok-o">::</span><span class="tok-no">Document</span><span class="tok-o">.</span><span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">content</span><span class="tok-p">,</span>
        <span class="tok-p">{</span><span class="tok-ss">:attributes</span> <span class="tok-o">=&gt;</span> <span class="tok-p">{</span><span class="tok-s2">&quot;source-highlighter&quot;</span> <span class="tok-o">=&gt;</span> <span class="tok-s2">&quot;pygments&quot;</span><span class="tok-p">}})</span><span class="tok-o">.</span><span class="tok-n">render</span>
    <span class="tok-k">end</span>
  <span class="tok-k">end</span>
<span class="tok-k">end</span>
</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, voila, I wrote this blog post in AsciiDoc and Jekyll.</p>
</div>
<div class="paragraph">
<p>Now, all I need for hosting this website is just nginx http server and some rewrite rules (for backwards compatibility of URLs), and I&#8217;m done. No other software required.</p>
</div>
<div class="paragraph">
<p>With this setup, hopefully, I should be able to write often again. Hope.</p>
</div>
  