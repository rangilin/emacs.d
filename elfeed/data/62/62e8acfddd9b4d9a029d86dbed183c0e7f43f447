<!-- 1381130792 -->

<p>I mess up a lot, and often want to do a quick amend to the last commit.</p>

<hr/>

<pre class="code-snippet">
<span class="comment-delimiter">;; </span><span class="comment">C-c C-a to amend without any prompt
</span>
(<span class="keyword">defun</span> <span class="function-name">magit-just-amend</span> ()
  (interactive)
  (<span class="keyword">save-window-excursion</span>
    (magit-with-refresh
      (shell-command <span class="string">"git --no-pager commit --amend --reuse-message=HEAD"</span>))))

(<span class="keyword">eval-after-load</span> <span class="string">"magit"</span>
  '(define-key magit-status-mode-map (kbd <span class="string">"C-c C-a"</span>) 'magit-just-amend))</pre>

<hr/>

<p>
  This code will let me just press <kbd>C-c C-a</kbd> and it amends
  with no fuss at all.
</p>

<p>
  Thanks
  to <a href="http://www.reddit.com/r/emacs/comments/1nv7uc/magit_how_to_do_amend_reusemessagehead/">this
  post</a> for the inspiration.
</p>

<hr>

<p>
  <strong>Update!</strong> As noted by Kyle Meyer in the comments
  below, this no longer works in the newest magit. Instead you should
  be using the built in Extend Commit command: <kbd>c e</kbd>.
</p>
