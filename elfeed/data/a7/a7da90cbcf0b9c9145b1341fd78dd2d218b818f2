<p>Every developer is sometimes in the following situation - you&#8217;re
inside the definition of something like a class or method, but the
name of the class or method is not currently into view, but you&#8217;d very
much like to know/see it. You can obviously scroll up and see what you
need to, but there&#8217;s a simpler way to see the name you&#8217;re looking
for - the built-in mode <code>which-function-mode</code>.</p>

<p>When <code>which-function-mode</code> is active you&#8217;ll see in the center of your
modeline the name of the definition your cursor is currently in.
Here&#8217;s the mode in action:</p>

<p><img src="http://emacsredux.com/images/articles/which-func-modeline.png"></p>

<p>And here&#8217;s how to enable it:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">which-function-mode</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>That way <code>which-function-mode</code> will be active in all major modes that
support it. If you want to enable it only in specific modes you can do
so like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;which-func-modes</span> <span class="ss">&#39;ruby-mode</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;which-func-modes</span> <span class="ss">&#39;emacs-lisp-mode</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>By default <code>???</code> will be displayed when <code>which-function-mode</code> cannot
determine the name (perhaps because you&#8217;re not actually in a
definition or due to implementation limitations). You can change this
to something else like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="p">(</span><span class="k">setq</span> <span class="nv">which-func-unknown</span> <span class="s">&quot;n/a&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>And what if you don&#8217;t like to have the definition name displayed in
the mode-line? There&#8217;s a solution for you as well (suggested by
<a href="http://www.lunaryorn.com/">Sebastian Wiesner</a>). Use the following bit
of code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='cl'><span class='line'><span class="c1">;; Show the current function name in the header line</span>
</span><span class='line'><span class="p">(</span><span class="nv">which-function-mode</span><span class="p">)</span>
</span><span class='line'><span class="p">(</span><span class="nv">setq-default</span> <span class="nv">header-line-format</span>
</span><span class='line'>              <span class="o">&#39;</span><span class="p">((</span><span class="nv">which-func-mode</span> <span class="p">(</span><span class="s">&quot;&quot;</span> <span class="nv">which-func-format</span> <span class="s">&quot; &quot;</span><span class="p">))))</span>
</span><span class='line'><span class="p">(</span><span class="k">setq</span> <span class="nv">mode-line-misc-info</span>
</span><span class='line'>            <span class="c1">;; We remove Which Function Mode from the mode line, because it&#39;s mostly</span>
</span><span class='line'>            <span class="c1">;; invisible here anyway.</span>
</span><span class='line'>            <span class="p">(</span><span class="nv">assq-delete-all</span> <span class="ss">&#39;which-func-mode</span> <span class="nv">mode-line-misc-info</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>And you&#8217;ll get the following result:</p>

<p><img src="http://emacsredux.com/images/articles/which-func-header.png"></p>

<p>That&#8217;s all for today, folks! Hack Emacs Lisp &amp; prosper!</p>
