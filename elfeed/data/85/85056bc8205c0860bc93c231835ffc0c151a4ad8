
<p>I spent all morning messing with xterm. It started with an innocent
question that I sent to the vim mailing list. When I pressed <code>mf</code> in the
netrw buffer I was not getting any cue that the file was marked.</p>

<p>Charles told me it was turning the file bold on his setup. I realized I
turned off bold font in xterm because I find them ugly. In Emacs I
display bold as yellow. Wouldn't it be nice if xterm did the same?</p>

<p>Here is how I did it:</p>

<pre class="example">
% mkdir .terminfo
% cd .terminfo
% infocmp -I screen-256color &gt; screen-ivan
</pre>

<p>No I can hack the escape sequence of the terminal. I replaced the bold
sequence <code>\E[1m</code> with <code>\E[0;33m</code>. Vim is displaying underline in the netrw
and it's not pretty. For fun I display purple instead of underline by
setting smul to <code>\E[0;35m</code> and rmul to <code>\E[0;37m</code>.</p>

<p>Next I compile my terminfo and set my terminal:</p>

<pre class="example">
tic screen-ivan
export TERM=screen-ivan
</pre>

<p>And here is the result on man page:</p>

<p class="image"><img src="xterm1.png" alt=""></p>

<p>Now that I could see bold font I was surprised that vim open a plain
text all in bold. Well it's due to the following setting:</p>

<pre class="example">
hi Normal ctermfg=white
</pre>

<p>It seems straightforward but it implies that the bold font will be
used. The default white in xterm is grey (color7). That is so you can
see a 'bold' white with color15. Xterm implies that bold font are
brighter. Since I don't care for the dull color I have set the color I
want by editing <code>~/.Xresources</code> like so:</p>

<pre class="example">
XTerm*color0: black
XTerm*color1: red
XTerm*color2: green
XTerm*color3: yellow
XTerm*color4: blue
XTerm*color5: magenta
XTerm*color6: cyan
XTerm*color7: white
Xterm*colorMode: false
</pre>

<p>Now I have to redo how I specify colors in <code>~/.vimrc</code>:</p>

<pre class="example">
&quot; colors

&quot; (black 0) (red 1) (green 2) (yellow 3) (blue 4) (magenta 5) (cyan 6)
&quot; (white 7) (orange 220)

&quot; Tone down the fruit salad
hi Normal ctermfg=7
hi Comment ctermfg=2
hi Function ctermfg=6
hi Statement ctermfg=5
hi Identifier ctermfg=7
hi Number ctermfg=7
hi Operator ctermfg=7
hi PreProc ctermfg=7
hi Statement ctermfg=5
hi Special ctermfg=7
hi String ctermfg=220
hi Type ctermfg=7
</pre>

<p>Note that I am using 220 for strings. This gives me the color orange
for strings. I had to compile strings with 256 colors:</p>

<pre class="example">
./configure --prefix=/home/ivan/local --enable-colors256
make install
</pre>

<p>There is a script called 256colors2.pl that will display all the
available colors. I modified it a tiny bit to display the number of
the color:</p>

<p class="image"><img src="xterm2.png" alt=""></p>

<p>And I finally fixed the highlighting of the netrw directory file with
the following line in <code>~./vimrc</code></p>

<pre class="example">
hi TabLineSel ctermfg=3
</pre>

